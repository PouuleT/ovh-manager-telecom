<form name="editSmsTemplateForm"
      id="editSmsTemplateForm"
      class="ovh-form-flat"
      data-ng-submit="TemplateEditCtrl.edit()">

    <div class="modal-header">
        <h3 class="modal-title pull-left" data-translate="sms_sms_templates_add"></h3>
        <button
            type="button"
            class="close pull-right"
            aria-label="{{ ::'cancel' | translate }}"
            data-ng-click="TemplateEditCtrl.cancel()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body" data-ng-if="!TemplateEditCtrl.loading.edit && !TemplateEditCtrl.edited && !TemplateEditCtrl.loading.init">

        <!-- NAME -->
        <div class="form-group bottom-space-m16">
            <div data-flat-input-container>
                <label for="name"
                       class="control-label"
                       data-translate="sms_sms_templates_add_name_label">
                </label>
                <input
                    type="text"
                    name="name"
                    id="name"
                    class="form-control"
                    required
                    readonly
                    data-ng-model="TemplateEditCtrl.model.template.name"
                    data-ng-maxlength="249"
                    data-translate-attr="{ placeholder: 'sms_sms_templates_add_name_placeholder' }" />
                <div role="alert"
                     data-ng-messages="editSmsTemplateForm.name.$error">
                    <p class="text-danger"
                        data-ng-message="maxlength"
                        data-translate="sms_sms_templates_add_name_error_maxlength">
                    </p>
                </div>
            </div>
        </div>

        <!-- ACTIVITY -->
        <div class="form-group bottom-space-m16 clearfix">
            <label for="activity"
                   class="control-label"
                   data-translate="sms_sms_templates_add_activity_placeholder">
            </label>
            <select
                name="activity"
                id="activity"
                class="form-control"
                required
                data-flat-select
                data-ng-model="TemplateEditCtrl.model.template.activity"
                data-ng-options="activity as ('sms_sms_templates_add_activity_type_' + activity | translate) for activity in TemplateEditCtrl.availableActivities">
            </select>
        </div>

        <!-- DESCRIPTION -->
        <div class="form-group bottom-space-m16">
            <div data-flat-input-container>
                <label for="description"
                       class="control-label"
                       data-translate="sms_sms_templates_add_description_label">
                </label>
                <input
                    type="text"
                    name="description"
                    id="description"
                    class="form-control"
                    required
                    data-ng-maxlength="249"
                    data-ng-minlength="31"
                    data-ng-model="TemplateEditCtrl.model.template.description"
                    data-translate-attr="{ placeholder: 'sms_sms_templates_add_description_placeholder' }" />
                <div role="alert"
                     data-ng-messages="editSmsTemplateForm.description.$error">
                    <p class="text-danger"
                        data-ng-message="maxlength"
                        data-translate="sms_sms_templates_add_description_error_maxlength">
                    </p>
                    <p class="text-danger"
                        data-ng-message="minlength"
                        data-translate="sms_sms_templates_add_description_error_minlength">
                    </p>
                </div>
            </div>
        </div>

        <!-- MESSAGE -->
        <div class="form-group">
            <div data-flat-input-container>
                <label for="message"
                       class="control-label"
                       data-translate="sms_sms_templates_add_message_label">
                </label>
                <textarea
                    name="message"
                    id="message"
                    class="form-control resizable-vertical"
                    rows="10"
                    required
                    data-ng-model="TemplateEditCtrl.model.template.message"
                    data-ng-maxlength="249"
                    data-ng-minlength="31"
                    data-translate-attr="{ placeholder: 'sms_sms_templates_add_message_placeholder' }">
                </textarea>
                <div role="alert"
                     data-ng-messages="editSmsTemplateForm.message.$error">
                    <p class="text-danger"
                        data-ng-message="maxlength"
                        data-translate="sms_sms_templates_add_message_error_maxlength">
                    </p>
                    <p class="text-danger"
                        data-ng-message="minlength"
                        data-translate="sms_sms_templates_add_message_error_minlength">
                    </p>
                </div>
            </div>
        </div>

        <!-- STATUS -->
        <div class="form-group bottom-space-m16">
            <label class="block pointer">
                <flat-checkbox>
                    <input
                        type="checkbox"
                        name="status"
                        id="status"
                        class="form-control"
                        data-ng-model="TemplateEditCtrl.model.template.status"
                        data-ng-checked="TemplateEditCtrl.model.template.status"
                        data-ng-true-value="'enable'"
                        data-ng-false-value="'disable'" />
                </flat-checkbox>
                <span class="left-space-m8"
                      data-translate="sms_sms_templates_edit_status_label">
                </span>
            </label>
        </div>

    </div>

    <div class="modal-body" data-ng-if="TemplateEditCtrl.loading.edit && !TemplateEditCtrl.edited">
        <bouncing-box-loader>
            <h4 data-translate="sms_sms_templates_editing"></h4>
        </bouncing-box-loader>
    </div>

    <div class="modal-body" data-ng-if="TemplateEditCtrl.loading.init">
        <bouncing-box-loader>
            <h4 data-translate="sms_sms_templates_init"></h4>
        </bouncing-box-loader>
    </div>

    <div class="modal-body" data-ng-if="TemplateEditCtrl.edited">
        <success-drawing-check data-draw-success-check="TemplateEditCtrl.edited">
            <h4 data-translate="sms_sms_templates_edited"></h4>
        </success-drawing-check>
    </div>

    <div class="modal-footer">
        <button
            type="button"
            class="btn btn-default"
            data-ng-click="TemplateEditCtrl.cancel()"
            data-ng-disabled="TemplateEditCtrl.loading.edit || TemplateEditCtrl.edited"
            data-translate="cancel">
        </button>
        <button
            type="submit"
            class="btn btn-primary"
            data-ng-disabled="editSmsTemplateForm.$invalid || TemplateEditCtrl.loading.edit || TemplateEditCtrl.edited || !TemplateEditCtrl.hasChanged()"
            data-translate="submit">
        </button>
    </div>
</form>
